load("@rules_java//java:defs.bzl", "java_library")

java_library(
    name = "asset",
    srcs = glob(["*.java"]), # Changed line
    visibility = [
        "//services/mops/src/main/java/nz/geek/jack/mops/core:__pkg__", # Visible to core components
        "//services/mops/src/test/java/nz/geek/jack/mops/core/adapter/api/gql/asset:__pkg__", # Visible to its tests
    ],
    deps = [
        "//services/mops/src/main/java/nz/geek/jack/mops/core/application/asset", # For AssetCommandService & CreateAssetCommand
        "//services/mops/src/main/resources/schema:java", # For DGS generated types from schema.graphqls
        "@maven//:com_netflix_graphql_dgs_graphql_dgs",
        "@maven//:org_springframework_spring_context", # For @DgsComponent, Spring DI
    ],
)
