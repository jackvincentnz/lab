/* To learn more about this file see: https://angular.io/config/tsconfig. */
{
  "compileOnSave": false,
  "compilerOptions": {
    "moduleResolution": "node",
    // TODO: extract node & browser child configs so we can use e2 modules
    // "module": "es2020",
    "module": "commonjs", // needed so that jasmine_node_test can load the common js module
    "target": "es2017",

    "lib": ["es2020", "dom"],

    "baseUrl": ".",

    // We hope this will not be needed in some future release of TypeScript.
    // Follow https://github.com/microsoft/TypeScript/issues/37257 for more info.
    "rootDirs": [
      ".",
      // Local mac
      "bazel-out/darwin-fastbuild/bin",
      // Github actions runner
      "bazel-out/k8-fastbuild/bin"
    ],

    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "noImplicitOverride": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "noPropertyAccessFromIndexSignature": true,

    "sourceMap": true,
    "declaration": true,
    "importHelpers": true,

    "downlevelIteration": true,
    "experimentalDecorators": true
  },

  "angularCompilerOptions": {
    "enableI18nLegacyMessageIdFormat": false,
    "strictInjectionParameters": true,
    "strictInputAccessModifiers": true,
    "strictTemplates": true
  },

  // If building without sandboxing, we need to prevent TypeScript from descending into
  // Bazel's external folder which contains third-party Bazel dependencies.
  "exclude": ["external/*"]
}
